{"ast":null,"code":"import { createSlice, nanoid } from '@reduxjs/toolkit';\nconst colorChoices = ['text-primary', 'text-success', 'text-secondary', 'text-danger', 'text-warning', 'text-info', 'text-dark'];\n\nlet getRandomInt = (min, max) => Math.floor(Math.random() * (max - min) + min);\n\nlet randomInt = getRandomInt(0, colorChoices.length + 1);\nlet randomColor = colorChoices[randomInt]; // let textClass = randomColor + ' fw-bold me-2' \n\nconst initialState = {\n  rooms: [{\n    id: \"1\",\n    name: \"IT\",\n    messages: [{\n      id: nanoid(),\n      text: \"Welcome to IT Room\",\n      username: 'admin'\n    }]\n  }, {\n    id: \"2\",\n    name: \"Politics\",\n    messages: [{\n      id: nanoid(),\n      text: \"Welcome to Politics Room\",\n      username: 'admin'\n    }]\n  }, {\n    id: \"3\",\n    name: \"Football\",\n    messages: [{\n      id: nanoid(),\n      text: \"Welcome to Football Room\",\n      username: 'admin'\n    }]\n  }],\n  status: 'idle',\n  error: null\n};\nconst roomsSlice = createSlice({\n  name: 'rooms',\n  initialState,\n  reducers: {\n    newRoomCreated(state, action) {\n      const {\n        id,\n        roomName\n      } = action.payload;\n      state.rooms.push({\n        id: id,\n        name: roomName,\n        messages: []\n      });\n    },\n\n    newChatMessage(state, action) {\n      const {\n        roomId,\n        text,\n        messageId,\n        username\n      } = action.payload;\n      const currentRoom = state.rooms.find(room => room.id === roomId);\n\n      if (currentRoom) {\n        currentRoom.messages.push({\n          id: messageId,\n          text: text,\n          username: username,\n          classString: randomColor + ' fw-bold me-2'\n        });\n      }\n    }\n\n  }\n});\nexport const {\n  newChatMessage,\n  newRoomCreated\n} = roomsSlice.actions;\nexport default roomsSlice.reducer;","map":{"version":3,"sources":["/home/chiks/socketProject/chat-room/src/features/rooms/roomsSlice.js"],"names":["createSlice","nanoid","colorChoices","getRandomInt","min","max","Math","floor","random","randomInt","length","randomColor","initialState","rooms","id","name","messages","text","username","status","error","roomsSlice","reducers","newRoomCreated","state","action","roomName","payload","push","newChatMessage","roomId","messageId","currentRoom","find","room","classString","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice, nanoid } from '@reduxjs/toolkit'\n\nconst colorChoices = [\n    'text-primary',\n    'text-success',\n    'text-secondary',\n    'text-danger',\n    'text-warning',\n    'text-info',\n    'text-dark',\n]\n\nlet getRandomInt = (min, max) => (\n    Math.floor(Math.random() * (max - min) + min)\n)\n\nlet randomInt = getRandomInt(0, colorChoices.length + 1)\nlet randomColor = colorChoices[randomInt]\n\n// let textClass = randomColor + ' fw-bold me-2' \n\nconst initialState = {\n    rooms: [\n        { id: \"1\", name: \"IT\", messages: [{ id: nanoid(), text: \"Welcome to IT Room\", username: 'admin' }]},\n        { id: \"2\", name: \"Politics\", messages: [{ id: nanoid(), text: \"Welcome to Politics Room\", username: 'admin' }]},\n        { id: \"3\", name: \"Football\", messages: [{ id: nanoid(), text: \"Welcome to Football Room\", username: 'admin' }]}\n    ],\n    status: 'idle',\n    error: null\n}\n\nconst roomsSlice = createSlice({\n    name: 'rooms',\n    initialState,\n    reducers: {\n        newRoomCreated(state, action) {\n            const { id, roomName } = action.payload\n            state.rooms.push({\n                id: id,\n                name: roomName,\n                messages: []\n            })\n        },\n\n        newChatMessage(state, action) {\n            const { roomId, text, messageId, username } = action.payload\n            const currentRoom = state.rooms.find(room => room.id === roomId)\n            if (currentRoom) {\n                currentRoom.messages.push({\n                    id: messageId,\n                    text: text,\n                    username: username,\n                    classString: randomColor + ' fw-bold me-2',\n                })\n            }\n        },\n    }\n})\n\nexport const { newChatMessage, newRoomCreated } = roomsSlice.actions\n\nexport default roomsSlice.reducer"]},"metadata":{},"sourceType":"module"}